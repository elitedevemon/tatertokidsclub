import{cn as We,aa as Y,j as n,ao as ae,cT as Be,cS as Z,bh as oe,r as m,z as j,cU as G,cV as Ue,cW as H,cX as _,cY as fe,cZ as me,R as ce,a1 as z,cB as Ze,bF as Ve,ar as Ce,bM as Ge,bN as Ye,bl as le,c_ as qe,c$ as Qe,d0 as he,b8 as Je,d1 as Q,d2 as J,bg as W,bf as re,d3 as Re,aq as Ie,a0 as q,cC as Me,bi as E,d4 as Xe,d5 as et,d6 as tt,d7 as st,d8 as at,d9 as rt,n as ze,a3 as be,am as nt,u as it,bJ as ot,cp as Fe,bk as ct,bs as Te,bt as Ae,T as L,b6 as lt,ch as ut,bj as dt,aE as ft,aP as mt,H as pe,aJ as ht,aL as bt,K as pt,ba as yt,W as xt,cq as ye}from"./main-ffa2cce8.js";function Xt(e,t=-1/0,s=1/0){return Math.min(Math.max(e,t),s)}function B(e,t){let s=e,a=t.toString(),r=a.indexOf("."),i=r>=0?a.length-r:0;if(i>0){let o=Math.pow(10,i);s=Math.round(s*o)/o}return s}function es(e,t,s,a){t=Number(t),s=Number(s);let r=(e-(isNaN(t)?0:t))%a,i=B(Math.abs(r)*2>=a?e+Math.sign(r)*(a-Math.abs(r)):e-r,a);return isNaN(t)?!isNaN(s)&&i>s&&(i=Math.floor(B(s/a,a))*a):i<t?i=t:!isNaN(s)&&i>s&&(i=t+Math.floor(B((s-t)/a,a))*a),i=B(i,a),i}function ts(e,t,s=10){const a=Math.pow(s,t);return Math.round(e*a)/a}const gt=new RegExp("^.*\\(.*\\).*$"),$t=["latn","arab","hanidec"];class Le{parse(t){return X(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,s,a){return X(this.locale,this.options,t).isValidPartialNumber(t,s,a)}getNumberingSystem(t){return X(this.locale,this.options,t).options.numberingSystem}constructor(t,s={}){this.locale=t,this.options=s}}const xe=new Map;function X(e,t,s){let a=ge(e,t);if(!e.includes("-nu-")&&!a.isValidPartialNumber(s)){for(let r of $t)if(r!==a.options.numberingSystem){let i=ge(e+(e.includes("-u-")?"-nu-":"-u-nu-")+r,t);if(i.isValidPartialNumber(s))return i}}return a}function ge(e,t){let s=e+(t?Object.entries(t).sort((r,i)=>r[0]<i[0]?-1:1).join():""),a=xe.get(s);return a||(a=new wt(e,t),xe.set(s,a)),a}class wt{parse(t){let s=this.sanitize(t);if(this.symbols.group&&(s=U(s,this.symbols.group,"")),this.symbols.decimal&&(s=s.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(s=s.replace(this.symbols.minusSign,"-")),s=s.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=s.indexOf("-");s=s.replace("-","");let u=s.indexOf(".");u===-1&&(u=s.length),s=s.replace(".",""),u-2===0?s=`0.${s}`:u-2===-1?s=`0.0${s}`:u-2===-2?s="0.00":s=`${s.slice(0,u-2)}.${s.slice(u-2)}`,o>-1&&(s=`-${s}`)}let a=s?+s:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var r,i;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)+2,20)};return new Le(this.locale,o).parse(new We(this.locale,o).format(a))}return this.options.currencySign==="accounting"&&gt.test(t)&&(a=-1*a),a}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace(String.fromCharCode(1548),this.symbols.decimal)),this.symbols.group&&(t=U(t,".",this.symbols.group))),this.options.locale==="fr-FR"&&(t=U(t,".",String.fromCharCode(8239))),t}isValidPartialNumber(t,s=-1/0,a=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&s<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&a>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=U(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,s={}){this.locale=t,this.formatter=new Intl.NumberFormat(t,s),this.options=this.formatter.resolvedOptions(),this.symbols=kt(t,this.formatter,this.options,s);var a,r;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const $e=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),vt=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function kt(e,t,s,a){var r,i,o,u;let c=new Intl.NumberFormat(e,{...s,minimumSignificantDigits:1,maximumSignificantDigits:21}),f=c.formatToParts(-10000.111),h=c.formatToParts(10000.111),l=vt.map(y=>c.formatToParts(y));var b;let p=(b=(r=f.find(y=>y.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&b!==void 0?b:"-",x=(i=h.find(y=>y.type==="plusSign"))===null||i===void 0?void 0:i.value;!x&&((a==null?void 0:a.signDisplay)==="exceptZero"||(a==null?void 0:a.signDisplay)==="always")&&(x="+");let S=(o=new Intl.NumberFormat(e,{...s,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(y=>y.type==="decimal"))===null||o===void 0?void 0:o.value,N=(u=f.find(y=>y.type==="group"))===null||u===void 0?void 0:u.value,P=f.filter(y=>!$e.has(y.type)).map(y=>we(y.value)),k=l.flatMap(y=>y.filter(R=>!$e.has(R.type)).map(R=>we(R.value))),I=[...new Set([...P,...k])].sort((y,R)=>R.length-y.length),F=I.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${I.join("|")}|[\\p{White_Space}]`,"gu"),T=[...new Intl.NumberFormat(s.locale,{useGrouping:!1}).format(9876543210)].reverse(),d=new Map(T.map((y,R)=>[y,R])),$=new RegExp(`[${T.join("")}]`,"g");return{minusSign:p,plusSign:x,decimal:S,group:N,literals:F,numeral:$,index:y=>String(d.get(y))}}function U(e,t,s){return e.replaceAll?e.replaceAll(t,s):e.split(t).join(s)}function we(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const jt=Y(n.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRightOutlined");function Ee(e){return e.set({hour:0,minute:0,second:0,millisecond:0})}function M(e){return e.set({hour:24-1,minute:60-1,second:60-1,millisecond:1e3-1})}function Nt(){var s,a,r;const e=(s=ae())==null?void 0:s.settings.dates.default_timezone,t=((r=(a=ae())==null?void 0:a.user)==null?void 0:r.timezone)||e||"auto";return!t||t==="auto"?Be():t}function Pt(){const e=oe();return m.useMemo(()=>{try{return Z(e)}catch{return Z("UTC")}},[e])}function ne(){const e=Nt();try{return Z(e)}catch{return Z("UTC")}}const w=Ee(ne());var Se,De;const ee=((De=(Se=ae())==null?void 0:Se.i18n)==null?void 0:De.language)||"en",St=[{key:0,label:j("Today"),getRangeValue:()=>({preset:0,start:w,end:M(w)})},{key:1,label:j("Yesterday"),getRangeValue:()=>({preset:1,start:w.subtract({days:1}),end:M(w).subtract({days:1})})},{key:2,label:j("This week"),getRangeValue:()=>({preset:2,start:G(w,ee),end:Ue(M(w),ee)})},{key:3,label:j("Last week"),getRangeValue:()=>{const e=G(w,ee).subtract({days:7});return{preset:3,start:e,end:e.add({days:6})}}},{key:4,label:j("Last 7 days"),getRangeValue:()=>({preset:4,start:w.subtract({days:7}),end:M(w)})},{key:5,label:j("Last 30 days"),getRangeValue:()=>({preset:5,start:w.subtract({days:30}),end:M(w)})},{key:6,label:j("Last 3 months"),getRangeValue:()=>({preset:6,start:w.subtract({months:3}),end:M(w)})},{key:7,label:j("Last 12 months"),getRangeValue:()=>({preset:7,start:w.subtract({months:12}),end:M(w)})},{key:8,label:j("This month"),getRangeValue:()=>({preset:8,start:H(w),end:_(M(w))})},{key:9,label:j("This year"),getRangeValue:()=>({preset:9,start:fe(w),end:me(M(w))})},{key:10,label:j("Last year"),getRangeValue:()=>({preset:10,start:fe(w).subtract({years:1}),end:me(M(w)).subtract({years:1})})}],ss=Y(n.jsx("path",{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"}),"DateRangeOutlined"),Dt=ce.forwardRef((e,t)=>{const{children:s,inputProps:a,wrapperProps:r,className:i,autoFocus:o,style:u,onClick:c}=e;return n.jsx("div",{...r,onClick:c,children:n.jsx("div",{...a,role:"group",className:z(i,"flex items-center focus-within:ring focus-within:ring-primary/focus focus-within:border-primary/60"),ref:t,style:u,children:n.jsx(Ze,{autoFocus:o,children:s})})})}),Vt=ce.forwardRef(({inputRef:e,wrapperProps:t,children:s,onBlur:a,...r},i)=>{const o=Ve(r),u=Ce(i),{fieldProps:c,inputProps:f}=Ge({...r,focusRef:u,labelElementType:"span"});return o.wrapper=z(o.wrapper,r.disabled&&"pointer-events-none"),n.jsx(Ye,{wrapperProps:le(t,{onBlur:h=>{var l;(l=u.current)!=null&&l.contains(h.relatedTarget)||a==null||a(h)},onClick:()=>{const h=qe(u);h==null||h.focusFirst()}}),fieldClassNames:o,ref:u,...c,children:n.jsx(Dt,{inputProps:f,className:z(o.input,"gap-10"),ref:e,children:s})})});function Ct(e){return e instanceof Qe?"day":"minute"}function ie(e,t,s){return t!=null&&e.compare(t)<0||s!=null&&e.compare(s)>0}function O(e,t,s){try{return he(e,t,s)}catch{return he(e,"UTC",s)}}function Rt(e,t){const s=oe(),a=t.timezone??s,[r,i]=m.useState(!1),o=t.closeDialogOnSelection??!0,u=t.granularity||Ct(e),c=t.min?O(t.min,a):void 0,f=t.max?O(t.max,a):void 0;return{timezone:a,granularity:u,min:c,max:f,calendarIsOpen:r,setCalendarIsOpen:i,closeDialogOnSelection:o}}function as(e){var ue,de;const t=Pt(),[s,a]=m.useState({start:(!e.value||!e.value.start)&&!((ue=e.defaultValue)!=null&&ue.start),end:(!e.value||!e.value.end)&&!((de=e.defaultValue)!=null&&de.end)}),r=e.onChange,[i,o]=Je(e.value?se(e.value,t):void 0,e.value?void 0:se(e.defaultValue,t),g=>{a({start:!1,end:!1}),r==null||r(g)}),{min:u,max:c,granularity:f,timezone:h,calendarIsOpen:l,setCalendarIsOpen:b,closeDialogOnSelection:p}=Rt(i.start,e),x=m.useCallback(()=>{a({start:!0,end:!0}),o(se(null,t)),r==null||r(null),b(!1)},[t,o,r,b]),[v,S]=m.useState(null),[N,P]=m.useState(!1),[k,I]=m.useState(i),[F,T]=m.useState(()=>ve(i,c)),d=m.useCallback(g=>{let V=g.start,C=g.end;u&&(V=Q(V,u));const _e=c?J(c,C):C;V=J(V,_e);const Ke=u?Q(u,V):V;return C=Q(C,Ke),c&&(C=J(C,c)),{start:O(V,h),end:O(C,h)}},[u,c,h]),$=m.useCallback(g=>{const V={...d(g),preset:g.preset};o(V),I(V),T(ve(V,c)),a({start:!1,end:!1})},[o,d,c]),D=m.useCallback(g=>!s.start&&W(g,k.start)||!s.end&&W(g,k.end),[k,s]),y=m.useCallback(g=>(N||!s.start&&!s.end)&&g.compare(k.start)>=0&&g.compare(k.end)<=0,[k,s,N]),R=m.useCallback(g=>W(g,k.start),[k]),K=m.useCallback(g=>W(g,k.end),[k]),He=m.useCallback((g,V)=>({onPointerEnter:()=>{N&&V&&I(te({start:v,end:g,timezone:h}))},onClick:()=>{if(!N)P(!0),S(g),I(te({start:g,end:g,timezone:h}));else{const C=te({start:v,end:g,timezone:h});C.start=Ee(C.start),C.end=M(C.end),P(!1),S(null),$==null||$(C),p&&(b==null||b(!1))}}}),[v,N,$,b,p,h]);return{selectedValue:i,setSelectedValue:$,calendarIsOpen:l,setCalendarIsOpen:b,dayIsActive:D,dayIsHighlighted:y,dayIsRangeStart:R,dayIsRangeEnd:K,getCellProps:He,calendarDates:F,setIsPlaceholder:a,isPlaceholder:s,clear:x,setCalendarDates:T,min:u,max:c,granularity:f,timezone:h,closeDialogOnSelection:p}}function ve(e,t){let s=re(H(e.start)),a=re(_(e.end));return Re(s,a)&&(a=_(a.add({months:1}))),t&&a.compare(t)>0&&(a=s,s=H(s.subtract({months:1}))),[s,a]}function te(e){const t=O(e.start,e.timezone),s=O(e.end,e.timezone);return t.compare(s)>0?{start:s,end:t}:{start:t,end:s}}function se(e,t){return e!=null&&e.start&&(e!=null&&e.end)?e:!(e!=null&&e.start)&&(e!=null&&e.end)?(e.start=e.end.subtract({months:1}),e):!(e!=null&&e.end)&&(e!=null&&e.start)?(e.end=e.start.add({months:1}),e):{start:t,end:t.add({months:1})}}const It=Y(n.jsx("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"}),"ArrowRightAltOutlined");function Mt(e,t,s,a){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,s,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{const r=e.hour,i=r>=12;return e.set({hour:i?r-12:r+12})}case"hour":case"minute":case"second":return e.cycle(t,s,{round:t!=="hour",hourCycle:a.hour12?12:24})}return e}function zt(e,t,s,a){switch(t){case"day":case"month":case"year":return e.set({[t]:s})}if("hour"in e)switch(t){case"dayPeriod":{const r=e.hour,i=r>=12;return s>=12===i?e:e.set({hour:i?r-12:r+12})}case"hour":if(a.hour12){const i=e.hour>=12;!i&&s===12&&(s=0),i&&s<12&&(s+=12)}case"minute":case"second":return e.set({[t]:s})}return e}const ke={year:5,month:2,day:7,hour:2,minute:15,second:15,dayPeriod:1};function Ft({segment:e,domProps:t,value:s,onChange:a,isPlaceholder:r,state:{timezone:i,calendarIsOpen:o,setCalendarIsOpen:u}}){const c=Ie(),f=m.useRef(""),{localeCode:h}=q(),l=Me(),b=E({timeZone:i}),p=m.useMemo(()=>new Le(h,{maximumFractionDigits:0}),[h]),x=d=>{a(zt(s,e.type,d,b.resolvedOptions()))},v=d=>{a(Mt(s,e.type,d,b.resolvedOptions()))},S=()=>{if(p.isValidPartialNumber(e.text)){const d=e.text.slice(0,-1),$=p.parse(d);if(d.length===0||$===0){const D=Xe(i);e.type in D&&x(D[e.type])}else x($);f.current=d}else e.type==="dayPeriod"&&v(-1)},N=d=>{var $;if(!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){switch(d.key){case"ArrowLeft":d.preventDefault(),d.stopPropagation(),l==null||l.focusPrevious();break;case"ArrowRight":d.preventDefault(),d.stopPropagation(),l==null||l.focusNext();break;case"Enter":($=d.target.closest("form"))==null||$.requestSubmit(),u(!o);break;case"Tab":break;case"Backspace":case"Delete":{d.preventDefault(),d.stopPropagation(),S();break}case"ArrowUp":d.preventDefault(),f.current="",v(1);break;case"ArrowDown":d.preventDefault(),f.current="",v(-1);break;case"PageUp":d.preventDefault(),f.current="",v(ke[e.type]||1);break;case"PageDown":d.preventDefault(),f.current="",v(-(ke[e.type]||1));break;case"Home":d.preventDefault(),f.current="",x(e.maxValue);break;case"End":d.preventDefault(),f.current="",x(e.minValue);break}F(d.key)}},P=E({hour:"numeric",hour12:!0}),k=m.useMemo(()=>{const d=new Date;return d.setHours(0),P.formatToParts(d).find($=>$.type==="dayPeriod").value},[P]),I=m.useMemo(()=>{const d=new Date;return d.setHours(12),P.formatToParts(d).find($=>$.type==="dayPeriod").value},[P]),F=d=>{const $=f.current+d;switch(e.type){case"dayPeriod":if(k.toLowerCase().startsWith(d))x(0);else if(I.toLowerCase().startsWith(d))x(12);else break;l==null||l.focusNext();break;case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!p.isValidPartialNumber($))return;let D=p.parse($),y=D,R=e.minValue===0;if(e.type==="hour"&&b.resolvedOptions().hour12){switch(b.resolvedOptions().hourCycle){case"h11":D>11&&(y=p.parse(d));break;case"h12":R=!1,D>12&&(y=p.parse(d));break}e.value>=12&&D>1&&(D+=12)}else D>e.maxValue&&(y=p.parse(d));if(Number.isNaN(D))return;const K=y!==0||R;K&&x(y),+`${D}0`>e.maxValue||$.length>=String(e.maxValue).length?(f.current="",K&&(l==null||l.focusNext())):f.current=$;break}}},T=c?{}:{"aria-label":e.type,"aria-valuetext":r?void 0:`${e.value}`,"aria-valuemin":e.minValue,"aria-valuemax":e.maxValue,"aria-valuenow":r?void 0:e.value,tabIndex:0,onKeyDown:N};return n.jsx("div",{...le(t,{...T,onFocus:d=>{f.current="",d.target.scrollIntoView({block:"nearest"})},onClick:d=>{d.preventDefault(),d.stopPropagation()}}),className:"box-content cursor-default select-none whitespace-nowrap rounded p-2 text-center tabular-nums caret-transparent outline-none focus:bg-primary focus:text-on-primary",children:e.text.padStart(e.minLength,"0")})}function Tt({segment:e,domProps:t}){const s=Me();return n.jsx("div",{...t,onPointerDown:a=>{a.pointerType==="mouse"&&(a.preventDefault(),s!=null&&s.focusNext({from:a.target})||s==null||s.focusPrevious({from:a.target}))},"aria-hidden":!0,className:"min-w-4 cursor-default select-none",children:e.text})}function At(e,t,s){switch(t){case"year":return{value:e.year,placeholder:"yyyy",minValue:1,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,placeholder:"mm",minValue:tt(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:et(e),maxValue:e.calendar.getDaysInMonth(e),placeholder:"dd"}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12,placeholder:"--"};case"hour":if(s.hour12){const a=e.hour>=12;return{value:e.hour,minValue:a?12:0,maxValue:a?23:11,placeholder:"--"}}return{value:e.hour,minValue:0,maxValue:23,placeholder:"--"};case"minute":return{value:e.minute,minValue:0,maxValue:59,placeholder:"--"}}return{}}function je({segmentProps:e,state:t,value:s,onChange:a,isPlaceholder:r}){const{granularity:i,timezone:o}=t,u=m.useMemo(()=>{const l={year:"numeric",month:"numeric",day:"numeric",timeZone:o};return i==="minute"&&(l.hour="numeric",l.minute="numeric"),l},[i,o]),c=E(u),f=m.useMemo(()=>s.toDate(),[s]),h=m.useMemo(()=>c.formatToParts(f).map(l=>{const b=At(s,l.type,c.resolvedOptions()),p=r&&l.type!=="literal"?b.placeholder:l.value;return{type:l.type,text:l.value===", "?" ":p,...b,minLength:l.type!=="literal"?String(b.maxValue).length:1}}),[f,c,r,s]);return n.jsx("div",{className:"flex items-center",children:h.map((l,b)=>l.type==="literal"?n.jsx(Tt,{domProps:e,segment:l},b):n.jsx(Ft,{isPlaceholder:r,domProps:e,state:t,value:s,onChange:a,segment:l},b))})}function Lt({date:e,currentMonth:t,state:{dayIsActive:s,dayIsHighlighted:a,dayIsRangeStart:r,dayIsRangeEnd:i,getCellProps:o,timezone:u,min:c,max:f}}){const{localeCode:h}=q(),l=st(e,h),b=s(e),p=a(e),x=r(e),v=i(e),S=at(e,u),N=Re(e,t),P=ie(e,c,f);return n.jsxs("div",{role:"button","aria-disabled":P,className:z("relative isolate h-40 w-40 flex-shrink-0 text-sm",P&&"pointer-events-none text-disabled",!N&&"pointer-events-none invisible"),...o(e,N),children:[n.jsx("span",{className:z("absolute inset-0 z-10 flex h-full w-full cursor-pointer select-none items-center justify-center rounded-full",!b&&!S&&"hover:bg-hover",b&&"bg-primary font-semibold text-on-primary",S&&!b&&"bg-chip"),children:e.day}),p&&N&&n.jsx("span",{className:z("absolute inset-0 h-full w-full bg-primary/focus",(x||l===0||e.day===1)&&"rounded-l-full",(v||l===6||e.day===t.calendar.getDaysInMonth(t))&&"rounded-r-full")})]})}function Et({startDate:e,state:t,isFirst:s,isLast:a}){const{localeCode:r}=q(),i=rt(e,r),o=G(e,r);return n.jsxs("div",{className:"w-280 flex-shrink-0",children:[n.jsx(Ot,{isFirst:s,isLast:a,state:t,currentMonth:e}),n.jsxs("div",{className:"block",role:"grid",children:[n.jsx(Ht,{state:t,startDate:e}),[...new Array(i).keys()].map(u=>n.jsx(ze.div,{className:"mb-6 flex",children:[...new Array(7).keys()].map(c=>n.jsx(Lt,{date:o.add({weeks:u,days:c}),currentMonth:e,state:t},c))},u))]})]})}function Ot({currentMonth:e,isFirst:t,isLast:s,state:{calendarDates:a,setCalendarDates:r,timezone:i,min:o,max:u}}){const c=b=>{const p=a.length;let x;b==="forward"?x=a.map(v=>_(v.add({months:p}))):x=a.map(v=>_(v.subtract({months:p}))),r(x)},f=E({month:"long",year:"numeric",era:e.calendar.identifier!=="gregory"?"long":void 0,calendar:e.calendar.identifier}),h=ie(e.subtract({days:1}),o,u),l=ie(H(e.add({months:1})),o,u);return n.jsxs("div",{className:"flex items-center justify-between gap-10",children:[n.jsx(be,{size:"md",className:z("text-muted",!t&&"invisible"),disabled:!t||h,"aria-hidden":!t,onClick:()=>{c("backward")},children:n.jsx(nt,{})}),n.jsx("div",{className:"select-none text-sm font-semibold",children:f.format(e.toDate(i))}),n.jsx(be,{size:"md",className:z("text-muted",!s&&"invisible"),disabled:!s||l,"aria-hidden":!s,onClick:()=>{c("forward")},children:n.jsx(jt,{})})]})}function Ht({state:{timezone:e},startDate:t}){const{localeCode:s}=q(),a=E({weekday:"short"}),r=G(t,s);return n.jsx("div",{className:"flex",children:[...new Array(7).keys()].map(i=>{const u=r.add({days:i}).toDate(e),c=a.format(u);return n.jsx("div",{className:"relative h-40 w-40 flex-shrink-0 text-sm font-semibold",children:n.jsx("div",{className:"absolute flex h-full w-full select-none items-center justify-center",children:c})},i)})})}function _t({state:e,visibleMonths:t=1}){return Ie()&&(t=1),n.jsx(m.Fragment,{children:[...new Array(t).keys()].map(a=>{const r=re(H(e.calendarDates[a])),i=a===0,o=a===t-1;return n.jsx(Et,{state:e,startDate:r,isFirst:i,isLast:o},a)})})}const Kt=m.memo(({start:e,end:t,options:s,preset:a,timezone:r})=>{const{dates:i}=it(),o=oe(),u=r||(s==null?void 0:s.timeZone)||o,c=E(s||ot[a||(i==null?void 0:i.format)]);if(!e||!t)return null;let f;try{f=c.formatRange(Ne(e,u),Ne(t,u))}catch{f=""}return n.jsx(m.Fragment,{children:f})},Fe);function Ne(e,t){return typeof e=="string"?ct(e,t).toDate():"toDate"in e?e.toDate(t):e}function Wt({onPresetSelected:e,selectedValue:t}){return n.jsx(Te,{children:St.map(s=>n.jsx(Ae,{borderRadius:"rounded-none",capitalizeFirst:!0,isSelected:(t==null?void 0:t.preset)===s.key,onSelected:()=>{const a=s.getRangeValue();e(a)},children:n.jsx(L,{...s.label})},s.key))})}function Bt(e){return lt("(max-width: 1024px)",e)}const Oe=ce.forwardRef((e,t)=>{const{children:s,size:a="sm",description:r,className:i,invalid:o,autoFocus:u,errorMessage:c,iconRight:f,...h}=e,l=Ce(t);ut({autoFocus:u},l);const b=Ut(a),p=Ve(e),x=m.useId();return n.jsxs("div",{className:z(i,"isolate"),children:[n.jsxs("label",{className:"flex select-none items-center",children:[n.jsx("input",{...h,type:"checkbox",role:"switch","aria-invalid":o||void 0,"aria-describedby":r?x:void 0,ref:l,"aria-checked":h.checked,className:z(b,!o&&"checked:border-primary checked:bg-primary dark:checked:border-primary-dark dark:checked:bg-primary-dark",o&&"checked:border-danger checked:bg-danger","relative flex flex-shrink-0 cursor-pointer appearance-none items-center overflow-hidden rounded-3xl border border-chip bg-chip p-0 outline-none transition-colors checked:border-primary checked:bg-primary","before:z-10 before:block before:translate-x-2 before:rounded-3xl before:border before:bg-white before:transition-transform","checked:before:border-white","focus-visible:ring",e.disabled&&"cursor-not-allowed opacity-80")}),s&&n.jsx("span",{className:z(p.size.font,"ml-12",o&&"text-danger",e.disabled&&"text-disabled"),children:s}),f]}),r&&!c&&n.jsx("div",{id:x,className:p.description,children:r}),c&&n.jsx("div",{id:x,className:p.error,children:c})]})});function rs(e){const{field:{onChange:t,onBlur:s,value:a=!1,ref:r},fieldState:{invalid:i,error:o}}=dt({name:e.name}),u={onChange:c=>{c.target.value&&c.target.value!=="on"?t(c.target.checked?c.target.value:!1):t(c)},onBlur:s,checked:!!a,invalid:i,errorMessage:o==null?void 0:o.message,name:e.name};return n.jsx(Oe,{ref:r,...le(e,u)})}function Ut(e){switch(e){case"xl":return"w-68 h-36 before:w-28 before:h-28 checked:before:translate-x-36";case"lg":return"w-56 h-30 before:w-22 before:h-22 checked:before:translate-x-30";case"md":return"w-46 h-24 before:w-18 before:h-18 checked:before:translate-x-24";case"xs":return"w-30 h-18 before:w-12 before:h-12 checked:before:translate-x-14";default:return"w-38 h-20 before:w-14 before:h-14 checked:before:translate-x-20"}}const Zt=[{key:0,label:j("Preceding period"),getRangeValue:e=>{const t=e.start,r=(e.end.toDate().getTime()-t.toDate().getTime())/(1e3*60);return{preset:0,start:t.subtract({minutes:r}),end:t}}},{key:1,label:j("Same period last year"),getRangeValue:e=>({start:e.start.subtract({years:1}),end:e.end.subtract({years:1}),preset:1})},{key:2,label:j("Custom"),getRangeValue:e=>({start:e.start.subtract({weeks:1}),end:e.end.subtract({weeks:1}),preset:2})}];function Gt({originalRangeValue:e,onPresetSelected:t,selectedValue:s}){return n.jsx(Te,{children:Zt.map(a=>n.jsx(Ae,{borderRadius:"rounded-none",capitalizeFirst:!0,isSelected:(s==null?void 0:s.preset)===a.key,onSelected:()=>{const r=a.getRangeValue(e);t(r)},children:n.jsx(L,{...a.label})},a.key))})}function ns({state:e,compareState:t,showInlineDatePickerField:s=!1,compareVisibleDefault:a=!1}){const r=Bt(),{close:i}=ft(),o=m.useRef(e),u=e.isPlaceholder.start||e.isPlaceholder.end,[c,f]=m.useState(a),h=n.jsxs(mt,{dividerTop:!0,startAction:!u&&!r?n.jsx("div",{className:"text-xs",children:n.jsx(Kt,{start:e.selectedValue.start.toDate(),end:e.selectedValue.end.toDate(),options:{dateStyle:"medium"}})}):void 0,children:[n.jsx(pe,{variant:"text",size:"xs",onClick:()=>{e.setSelectedValue(o.current.selectedValue),e.setIsPlaceholder(o.current.isPlaceholder),i()},children:n.jsx(L,{message:"Cancel"})}),n.jsx(pe,{variant:"flat",color:"primary",size:"xs",onClick:()=>{const l=e.selectedValue;t&&c&&(l.compareStart=t.selectedValue.start,l.compareEnd=t.selectedValue.end),i(l)},children:n.jsx(L,{message:"Select"})})]});return n.jsxs(ht,{size:"auto",children:[n.jsxs(bt,{className:"flex",padding:"p-0",children:[!r&&n.jsxs("div",{className:"min-w-192 py-14",children:[n.jsx(Wt,{selectedValue:e.selectedValue,onPresetSelected:l=>{e.setSelectedValue(l),e.closeDialogOnSelection&&i(l)}}),!!t&&n.jsxs(m.Fragment,{children:[n.jsx(Oe,{className:"mx-20 mb-10 mt-14",checked:c,onChange:l=>f(l.target.checked),children:n.jsx(L,{message:"Compare"})}),c&&n.jsx(Gt,{originalRangeValue:e.selectedValue,selectedValue:t.selectedValue,onPresetSelected:l=>{t.setSelectedValue(l)}})]})]}),n.jsx(pt,{initial:!1,children:n.jsx(Yt,{state:e,compareState:t,showInlineDatePickerField:s,compareVisible:c})})]}),!e.closeDialogOnSelection&&h]})}function Yt({state:e,compareState:t,showInlineDatePickerField:s,compareVisible:a}){return n.jsxs(ze.div,{initial:{width:0,overflow:"hidden"},animate:{width:"auto"},exit:{width:0,overflow:"hidden"},transition:{type:"tween",duration:.125},className:"border-l px-20 pb-20 pt-10",children:[s&&n.jsxs("div",{children:[n.jsx(Pe,{state:e}),!!t&&a&&n.jsx(Pe,{state:t,label:n.jsx(L,{message:"Compare"})})]}),n.jsx("div",{className:"flex items-start gap-36",children:n.jsx(_t,{state:e,visibleMonths:2})})]})}function Pe({state:e,label:t}){const{selectedValue:s,setSelectedValue:a}=e;return n.jsxs(Vt,{className:"mb-20 mt-10",label:t,children:[n.jsx(je,{state:e,value:s.start,onChange:r=>{a({...s,start:r})}}),n.jsx(It,{className:"block flex-shrink-0 text-muted",size:"md"}),n.jsx(je,{state:e,value:s.end,onChange:r=>{a({...s,end:r})}})]})}const is=m.memo(({value:e,...t})=>{const s=yt(t);return isNaN(e)&&(e=0),n.jsx(m.Fragment,{children:s.format(e)})},Fe),os=Y(n.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackOutlined"),cs=m.memo(({minutes:e,seconds:t,ms:s,startDate:a,endDate:r,verbose:i=!1,addZeroToFirstUnit:o=!0,isLive:u,maxIsLiveMs:c,minDuration:f=0,liveInterval:h=5e3})=>{const{trans:l}=xt(),b=m.useMemo(()=>{if(a||r){const k=a?ye(a):ne(),F=(r?ye(r):ne()).toDate().getTime()-k.toDate().getTime();return F>f?F:f}return e?e*6e4:t?t*1e3:s||f},[e,t,s,a,r,f]),[p,x]=m.useState(b);m.useEffect(()=>{x(b)},[b]);const v=m.useRef(p);v.current=p,m.useEffect(()=>{const k=c&&v.current>c;if(u&&!k){const I=setInterval(()=>{x(F=>F+h)},h);return()=>clearInterval(I)}},[u,h,c,b]);const S=p<0?-p:p,N={days:Math.trunc(S/864e5),hours:Math.trunc(S/36e5)%24,minutes:Math.trunc(S/6e4)%60,seconds:Math.trunc(S/1e3)%60};let P;return i?P=qt(N,l):P=Qt(N,o),n.jsx(m.Fragment,{children:P})});function qt(e,t){const s=[];return e.days&&s.push(`${e.days}${t(j("d"))}`),e.hours&&s.push(`${e.hours}${t(j("hr"))}`),e.minutes&&s.push(`${e.minutes}${t(j("min"))}`),e.seconds&&!e.hours&&s.push(`${e.seconds}${t(j("sec"))}`),s.join(" ")}function Qt(e,t=!0){const s=A(e.seconds);let a="";return e.days&&!a&&(a=`${e.days}:${A(e.hours)}:${A(e.minutes)}:${s}`),e.hours&&!a&&(a=`${A(e.hours,t)}:${A(e.minutes)}:${s}`),a||(a=`${A(e.minutes,t)}:${s}`),a}function A(e,t=!0){if(!t)return e;let s=`${e}`;return s.length===1&&(s="0"+s),s}export{Xt as $,os as A,_t as C,St as D,Kt as F,Dt as I,jt as K,Oe as S,cs as a,is as b,Rt as c,Vt as d,ss as e,je as f,rs as g,ts as h,as as i,Zt as j,ns as k,It as l,es as m,Nt as n,O as t,Pt as u};
//# sourceMappingURL=formatted-duration-00576b2e.js.map
